<!DOCTYPE html>
<html ng-app="AGMap" >
    <head>
        <meta charset="utf-8">
        <title>AngularJS / Google Maps </title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="materialize/css/materialize.min.css" rel="stylesheet" type="text/css"/>
        <link href="style.css" rel="stylesheet" type="text/css"/>
        <!--<link href="style.css" rel="stylesheet"/>-->
        <script src="js/vendor/jquery-2.1.4.js" type="text/javascript"></script>
        <!-- AngularJS -->
        <script src="js/vendor/angular.min.js" type="text/javascript"></script>
        <!--<script src="js/vendor/angular-route.min.js" type="text/javascript"></script>-->

        <!-- Google Maps -->
        <script src="http://maps.google.com/maps/api/js?sensor=false"></script>

        <!-- angular-goole-maps -->
        <!--        <script src="js/lib/lodash.underscore.min.js?v=2.4.1"></script>-->
        <script src="js/vendor/lodash.min.js" type="text/javascript"></script>
        <script src="js/lib/angular-google-maps.min.js?v=1.2.2"></script>
        <!--
        <script src="js/vendor/angular-simple-logger.js" type="text/javascript"></script>-->
        <!--<script src="js/vendor/angular-google-maps.js" type="text/javascript"></script>-->

        <!-- Custom angular module -->
        <!--<script src="js/map.js" type="text/javascript"></script>-->
        <script src="js/controlervarios.js" type="text/javascript"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.3.12/proj4-src.js" type="text/javascript"></script>


    </head>
    <body ng-controller="MapCtrl as mapa">
        <a href="index.html" class="waves-effect waves-light btn">Home</a>
        
            <h4 class="center-align">ANGULARJS / GOOGLE MAPS Pruebas</h4>
            <div class="map_container" >
                <google-map center="map.center" zoom="map.zoom" draggable="true" options="map.options" control="map.control">
                    <markers models="map.markers" coords="'self'" options="'options'" isLabel='true'>
                    </markers>
                </google-map>
                <!--<ui-gmap-google-map center='map.center' zoom='map.zoom' draggable="true" options="map.options" control="map.control"><ui-gmap-marker models="map.markers" coords="'self'" options="'options'" isLabel='true'>
                    </ui-gmap-marker></ui-gmap-google-map>-->
            </div>  
            <div class="controls center-align">
                <h5 class="teal lighten-4 z-depth-3">Localización actual</h5>
                <p>
                    <button ng-click="addCurrentLocation()">Localizame</button>                
                </p>
                <h5 class="teal lighten-4 z-depth-3">Address search</h5>
                <p>
                    <input type="text" placeholder="Ejemplo:Calle Bolero de Carlet nº 3,Valencia" ng-model="address" style="width: 210px"/>
                    <button ng-click="addAddress()">Buscar</button>    
                </p>
                <p><button ng-click="addMarker(39.2329533,-2)">Añade</button></p>
                <p><button ng-click="mapa.prueba()">Prueba</button></p>
            </div>
            
                    <div  class="row" >
                <h4 class="center-align"> Listado Open Data</h4>
                <div class="col s8 ">
                    <p>Zona de prueba</p>
                    <pre ng-model="data">
                    {{data}}
                    </pre>
                    
                    <table class="striped">
                        <thead>
                            <tr>
                                <th>Sensor</th>
                                <th>Latitud</th>
                                <th>Longitud</th>
                                <th>Ángulo</th>
                                <th>Fecha modificación</th>
                                <th>Intensidad</th>
                                <th>URI</th>
                                <th>{{mapa.nombre}}</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="d in data">
                                <td>{{d['vlc:sensor']}}</td>
                                <td>{{d['geo:lat']}}</td>
                                <td>{{d['geo:long']}}</td>
                                <td>{{d['vlc:angulo']}}</td>
                                <td>{{d['dc:modified'] | date:'dd-MM-yyyy HH:mm:ss'}}</td>
                                <td>{{d['vlc:intensidad']}}</td>
                                <td>{{d.uri}}</td>
                                <td><button ng-click="addMarker(724223.322,4368378.536)">Pruebame a</button></td>
                                <td><button ng-click="addMarkerb()">Prueba</button></td>
                                <!--<p><button ng-click="mapa.prueba(0,0)">Prueba SIN</button></p>-->
                                
                                <!--<td><button ng-click="mapa.prueba({{d['geo:lat']}},{{d['geo:long']}})">Añade</button> </td>-->                               
                            </tr>
                        </tbody>
                    </table>
                    
                </div>
            </div>
            <script>
       
            </script>
    </body>
</html>